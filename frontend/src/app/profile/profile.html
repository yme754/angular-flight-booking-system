<div class="container" *ngIf="currentUser; else loggedOut">
  <header class="jumbotron">
    <h3>
      <strong>{{ currentUser.username }}</strong> Profile
    </h3>
  </header>
  <p>
    <strong>Email:</strong> {{ currentUser.email }}
  </p>
  <p>
    <strong>Role:</strong> {{ currentUser.roles }}
  </p>
  <button (click)="toggleChangePassword()" class="btn btn-primary">
    Change Password
  </button>
  <div *ngIf="showChangePassword" style="margin-top: 20px;">
    <form (ngSubmit)="submitPasswordChange()">
      <div class="form-group">
        <label for="newPassword">New Password</label>
        <input
          type="password"
          id="newPassword"
          [(ngModel)]="newPassword"
          name="newPassword"
          class="form-control"
          required
        />
      </div>

      <div class="form-group" style="margin-top: 10px;">
        <label for="confirmPassword">Confirm New Password</label>
        <input
          type="password"
          id="confirmPassword"
          [(ngModel)]="confirmPassword"
          name="confirmPassword"
          class="form-control"
          required
        />
      </div>

      <div *ngIf="passwordMismatch" class="text-danger" style="margin-top: 10px;">
        Passwords do not match!
      </div>

      <button type="submit" class="btn btn-outline-purple" style="margin-top: 15px;">
        Save Password
      </button>
    </form>
  </div>
</div>

<ng-template #loggedOut>
  Please login.
</ng-template>
