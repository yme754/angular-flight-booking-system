<div class="search-page">
  <div class="glass-card">
    <h2>Book a Flight</h2>
    <div class="mb-4">
      <label class="form-label-custom">From</label>
      <div class="input-group-row">
        <div class="icon-box">
          <img src="https://img.icons8.com/?size=100&id=86500&format=png&color=000000" class="input-icon" alt="from">
        </div>
        <select class="form-control-custom" [(ngModel)]="fromPlace" name="fromPlace" required>
          <option value="" disabled selected>select origin</option>
          <option *ngFor="let airport of airports" [value]="airport.code">
            {{ airport.code }} - {{ airport.name }}
          </option>
        </select>
      </div>
    </div>
    <div class="mb-4">
      <label class="form-label-custom">To</label>
      <div class="input-group-row">
        <div class="icon-box">
          <img src="https://img.icons8.com/?size=100&id=85049&format=png&color=000000" class="input-icon" alt="to">
        </div>
        <select class="form-control-custom" [(ngModel)]="toPlace" name="toPlace" required>
          <option value="" disabled selected>select destination</option>
          <option *ngFor="let airport of airports" [value]="airport.code">
            {{ airport.code }} - {{ airport.name }}
          </option>
        </select>
      </div>
    </div>
    <div class="mb-4">
      <label class="form-label-custom">Date</label>
      <div class="input-group-row">
        <div class="icon-box">
          <img src="https://img.icons8.com/?size=100&id=84997&format=png&color=000000" class="input-icon" alt="date">
        </div>
        <input type="date" class="form-control-custom" [(ngModel)]="travelDate" [min]="minDate">
      </div>
    </div>
    <button class="btn-search" (click)="onSearch()">
      Search Flights
    </button>
    <div *ngIf="errorMessage" class="alert alert-danger mt-3 text-center" style="border-radius: 12px;">
      {{ errorMessage }}
    </div>
  </div>
  <div class="results-section" *ngIf="flights.length > 0">
    <div class="results-card">
      <h3 class="results-title">Available Flights</h3>
      <div class="route-header">
        <span class="route-label">Route</span>
        <div class="route-display">
          <strong>{{ fromPlace }}</strong>
          <div class="route-divider">
            <span class="dashed-line"></span>
            <img src="https://img.icons8.com/ios-filled/50/000000/airplane-mode-on.png" class="route-plane-icon" alt="plane">
            <span class="dashed-line"></span>
          </div>
          <strong>{{ toPlace }}</strong>
        </div>
      </div>
      <div class="flight-list">
        <div class="flight-row" *ngFor="let flight of flights">
          <div class="flight-info-group">
            <span class="f-number">{{ flight.flightNumber }}</span>
            <span class="f-time">{{ flight.departureTime | date:'shortTime' }}</span>
            <span class="f-price">â‚¹{{ flight.price.oneWay }}</span>
          </div>
          <button class="btn-select" (click)="onBook(flight)">
            Select Flight
          </button>
        </div>
      </div>
    </div>
  </div>
</div>