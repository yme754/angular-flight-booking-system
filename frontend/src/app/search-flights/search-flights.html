<div class="search-page">
  <div class="glass-card">
    <h2>Book a Flight</h2>
    <div class="mb-4">
      <label class="form-label-custom">From</label>
      <div class="input-group-row">
        <div class="icon-box">
          <img src="https://img.icons8.com/?size=100&id=86500&format=png&color=000000" class="input-icon" alt="from">
        </div>
        <select class="form-control-custom" [(ngModel)]="fromPlace" name="fromPlace" required>
          <option value="" disabled selected>select origin</option>
          <option *ngFor="let airport of airports" [value]="airport.code">
            {{ airport.code }} - {{ airport.name }}
          </option>
        </select>
      </div>
    </div>
    <div class="mb-4">
      <label class="form-label-custom">To</label>
      <div class="input-group-row">
        <div class="icon-box">
          <img src="https://img.icons8.com/?size=100&id=85049&format=png&color=000000" class="input-icon" alt="to">
        </div>
        <select class="form-control-custom" [(ngModel)]="toPlace" name="toPlace" required>
          <option value="" disabled selected>select destination</option>
          <option *ngFor="let airport of airports" [value]="airport.code">
            {{ airport.code }} - {{ airport.name }}
          </option>
        </select>
      </div>
    </div>
    <div class="mb-4">
      <label class="form-label-custom">Date</label>
      <div class="input-group-row">
        <div class="icon-box">
          <img src="https://img.icons8.com/?size=100&id=84997&format=png&color=000000" class="input-icon" alt="date">
        </div>
        <input type="date" class="form-control-custom" [(ngModel)]="travelDate" [min]="minDate">
      </div>
    </div>
    <button class="btn-search" (click)="onSearch()">
      Search Flights
    </button>
    <div *ngIf="errorMessage" class="alert alert-danger mt-3 text-center" style="border-radius: 12px;">
      {{ errorMessage }}
    </div>
  </div>
  <div class="results-section" *ngIf="flights.length > 0">
    <h3 class="section-title">Available Flights</h3>
    <div class="flight-ticket" *ngFor="let flight of flights">
      <div class="ticket-info">
        <h5>{{ flight.flightNumber }}</h5>
        <p class="ticket-route">
          <strong>{{ flight.fromPlace }}</strong> 
          <span class="text-muted mx-2">➝</span> 
          <strong>{{ flight.toPlace }}</strong>
        </p>
        <small class="ticket-time text-muted">
          Departure: {{ flight.departureTime | date:'shortTime' }}
        </small>
      </div>
      <div class="ticket-action">
        <span class="ticket-price">₹{{ flight.price.oneWay }}</span>
        <button class="btn btn-outline-purple btn-sm" (click)="onBook(flight)">
          Select
        </button>
      </div>
    </div>
  </div>
</div>